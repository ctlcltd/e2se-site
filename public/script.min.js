/*!
 * script.js
 * 
 * @author Leonardo Laureti
 * @license MIT License
 */
(function(){const doc=document,body=doc.body;function preferredColor(){let t=sessionStorage.getItem("preferred-color");if(t="light"==t||"dark"==t?t:null,t=t??(matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),t){body.setAttribute("data-color",t),"dark"==t?body.classList.add("dark"):body.classList.remove("dark");const e=doc.getElementById("switch-color");e.innerText="switch to "+("light"==t?"dark":"light")}}function switchColor(t){const e=t.target;var o;"switch-color"==e.id&&("light"!=(o=body.hasAttribute("data-color")?body.getAttribute("data-color"):"light")&&"dark"!=o||(t="light"==o?"dark":"light",e.innerText="switch to "+o,body.setAttribute("data-color",t),"light"==o?body.classList.add("dark"):body.classList.remove("dark"),setTimeout(function(){e.blur()},100),sessionStorage.setItem("preferred-color",t),load_images()))}function abbrbox(){function e(t){const e=doc.createElement("div"),o=doc.createElement("div");e.className="abbrbox",o.className="inner",o.innerText=t._title,e.append(o),t.append(e),t._abbr=e,setTimeout(function(){body._abbrbox=t},0),setTimeout(function(){r(t)},7e3)}function r(t){t._abbr&&(t._abbr.remove(),delete t._abbr,delete body._abbrbox)}function t(t){t=t.target;"ABBR"!==t.nodeName||t._abbr?t._abbr?r.call(this,t):body._abbrbox&&r.call(this,body._abbrbox):e.call(this,t)}for(const o of doc.querySelectorAll("abbr"))o._title=o.title,o.setAttribute("title",""),o.addEventListener("click",t),o.addEventListener("mouseenter",t);body.addEventListener("click",t)}function platform_detect(){function t(t){return/win/i.test(t)?"w":/mac/i.test(t)?"m":void 0}return t(navigator.platform)??t(navigator.useragent)??"f"}function load_images(t){let o=sessionStorage.getItem("preferred-color");o="light"==o||"dark"==o?o[0]:null;let r=0;for(const i of doc.querySelectorAll(".img img")){i.disabled=!0,i.removeAttribute("src"),window.platform=window.platform??platform_detect();let t=i.parentElement.className.substr(-1),e="screenshot-";if("f"==t)t="a",e+="sat-list-editor",o=r++?"d":"l",o="w"==platform?"l":o;else{if("a"!=t&&"b"!=t&&"d"!=t&&"e"!=t)return;"a"==t?e+="sat-list-editor":"b"==t?e+="sat-channel-book":"d"==t?e+="edit-service-transponders-sat":"e"==t&&(e+="picons-editor-sat"),o=o??(matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"d":"l"),o="w"==platform?"l":o}var a="img/"+e+"_"+t+platform+o+platform+".svg";i.setAttribute("src",a),i.disabled=!1}}preferredColor(),doc.getElementById("head").addEventListener("click",switchColor),load_images(),window.addEventListener("appearance-changed",load_images),abbrbox();})()