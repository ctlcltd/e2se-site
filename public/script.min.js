/*!
 * script.js
 * 
 * @author Leonardo Laureti
 * @license MIT License
 */
(function(){const doc=document,body=doc.body;var platform,theme;function preferredColor(){var t=sessionStorage.getItem("preferred-color");if("light"==t||"dark"==t){body.setAttribute("data-color",t),"dark"==t?body.classList.add("dark"):body.classList.remove("dark");const e=doc.getElementById("switch-color");e.innerText="switch to "+("light"==t?"dark":"light")}}function switchColor(t){const e=t.target;var r;"switch-color"==e.id&&("light"!=(r=body.hasAttribute("data-color")?body.getAttribute("data-color"):"light")&&"dark"!=r||(t="light"==r?"dark":"light",e.innerText="switch to "+r,body.setAttribute("data-color",t),"light"==r?body.classList.add("dark"):body.classList.remove("dark"),setTimeout(function(){e.blur()},100),sessionStorage.setItem("preferred-color",t),load_images()))}function platform_detect(){function t(t){return/win/i.test(t)?"w":/mac/i.test(t)?"m":void 0}return t(navigator.platform)??t(navigator.useragent)??"f"}function load_images(t){let e=sessionStorage.getItem("preferred-color");e="light"==e||"dark"==e?e[0]:null;for(const o of doc.querySelectorAll(".img img")){o.setAttribute("hidden",""),o.setAttribute("src",""),platform=platform??platform_detect(),theme=e??(matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"d":"l");var r="../src/test/"+platform+"-"+(theme="w"==platform?"l":theme+platform)+".svg";o.setAttribute("src",r),o.removeAttribute("hidden")}}preferredColor(),doc.getElementById("head").addEventListener("click",switchColor),load_images(),window.addEventListener("appearance-changed",load_images),window.className="";})()